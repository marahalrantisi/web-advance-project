{"ast":null,"code":"import api from './api';\nexport const authService = {\n  // Sign up\n  signup: async userData => {\n    try {\n      const response = await api.post('/auth/signup', userData);\n      if (response.data.token) {\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n      }\n      return response.data;\n    } catch (error) {\n      var _error$response, _error$response2;\n      console.error('Error signing up:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      throw ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || {\n        message: 'An error occurred during sign up'\n      };\n    }\n  },\n  // Sign in\n  signin: async credentials => {\n    try {\n      const formattedCredentials = {\n        email: credentials.email.trim().toLowerCase(),\n        password: credentials.password\n      };\n      console.log('Attempting signin with:', {\n        email: formattedCredentials.email\n      });\n      const response = await api.post('/auth/signin', formattedCredentials);\n      if (response.data.token) {\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n      }\n      return response.data;\n    } catch (error) {\n      var _error$response3, _error$response4, _error$response5;\n      console.error('Error signing in:', {\n        status: (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status,\n        data: (_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data,\n        message: error.message\n      });\n      throw ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data) || {\n        message: 'An error occurred during sign in'\n      };\n    }\n  },\n  // Sign out\n  signout: async () => {\n    try {\n      await api.post('/auth/signout');\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n    } catch (error) {\n      var _error$response6, _error$response7;\n      console.error('Error signing out:', ((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.data) || error.message);\n      // Still clear local storage even if the server request fails\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      throw ((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.data) || {\n        message: 'An error occurred during sign out'\n      };\n    }\n  },\n  // Get current user\n  getCurrentUser: async () => {\n    try {\n      const response = await api.get('/auth/me');\n      return response.data;\n    } catch (error) {\n      var _error$response8, _error$response9;\n      console.error('Error getting current user:', ((_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : _error$response8.data) || error.message);\n      throw ((_error$response9 = error.response) === null || _error$response9 === void 0 ? void 0 : _error$response9.data) || {\n        message: 'An error occurred while getting user data'\n      };\n    }\n  }\n};","map":{"version":3,"names":["api","authService","signup","userData","response","post","data","token","localStorage","setItem","JSON","stringify","user","error","_error$response","_error$response2","console","message","signin","credentials","formattedCredentials","email","trim","toLowerCase","password","log","_error$response3","_error$response4","_error$response5","status","signout","removeItem","_error$response6","_error$response7","getCurrentUser","get","_error$response8","_error$response9"],"sources":["D:/react-node-project-final/react-node-project/client/src/services/authService.js"],"sourcesContent":["import api from './api';\r\n\r\nexport const authService = {\r\n  // Sign up\r\n  signup: async (userData) => {\r\n    try {\r\n      const response = await api.post('/auth/signup', userData);\r\n      if (response.data.token) {\r\n        localStorage.setItem('token', response.data.token);\r\n        localStorage.setItem('user', JSON.stringify(response.data.user));\r\n      }\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error signing up:', error.response?.data || error.message);\r\n      throw error.response?.data || { message: 'An error occurred during sign up' };\r\n    }\r\n  },\r\n\r\n  // Sign in\r\n  signin: async (credentials) => {\r\n    try {\r\n      const formattedCredentials = {\r\n        email: credentials.email.trim().toLowerCase(),\r\n        password: credentials.password\r\n      };\r\n\r\n      console.log('Attempting signin with:', { email: formattedCredentials.email });\r\n      \r\n      const response = await api.post('/auth/signin', formattedCredentials);\r\n      \r\n      if (response.data.token) {\r\n        localStorage.setItem('token', response.data.token);\r\n        localStorage.setItem('user', JSON.stringify(response.data.user));\r\n      }\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error signing in:', {\r\n        status: error.response?.status,\r\n        data: error.response?.data,\r\n        message: error.message\r\n      });\r\n      throw error.response?.data || { message: 'An error occurred during sign in' };\r\n    }\r\n  },\r\n\r\n  // Sign out\r\n  signout: async () => {\r\n    try {\r\n      await api.post('/auth/signout');\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n    } catch (error) {\r\n      console.error('Error signing out:', error.response?.data || error.message);\r\n      // Still clear local storage even if the server request fails\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      throw error.response?.data || { message: 'An error occurred during sign out' };\r\n    }\r\n  },\r\n\r\n  // Get current user\r\n  getCurrentUser: async () => {\r\n    try {\r\n      const response = await api.get('/auth/me');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error getting current user:', error.response?.data || error.message);\r\n      throw error.response?.data || { message: 'An error occurred while getting user data' };\r\n    }\r\n  }\r\n}; "],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;AAEvB,OAAO,MAAMC,WAAW,GAAG;EACzB;EACAC,MAAM,EAAE,MAAOC,QAAQ,IAAK;IAC1B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,cAAc,EAAEF,QAAQ,CAAC;MACzD,IAAIC,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAE;QACvBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC;QAClDC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ,CAACE,IAAI,CAACM,IAAI,CAAC,CAAC;MAClE;MACA,OAAOR,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOO,KAAK,EAAE;MAAA,IAAAC,eAAA,EAAAC,gBAAA;MACdC,OAAO,CAACH,KAAK,CAAC,mBAAmB,EAAE,EAAAC,eAAA,GAAAD,KAAK,CAACT,QAAQ,cAAAU,eAAA,uBAAdA,eAAA,CAAgBR,IAAI,KAAIO,KAAK,CAACI,OAAO,CAAC;MACzE,MAAM,EAAAF,gBAAA,GAAAF,KAAK,CAACT,QAAQ,cAAAW,gBAAA,uBAAdA,gBAAA,CAAgBT,IAAI,KAAI;QAAEW,OAAO,EAAE;MAAmC,CAAC;IAC/E;EACF,CAAC;EAED;EACAC,MAAM,EAAE,MAAOC,WAAW,IAAK;IAC7B,IAAI;MACF,MAAMC,oBAAoB,GAAG;QAC3BC,KAAK,EAAEF,WAAW,CAACE,KAAK,CAACC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;QAC7CC,QAAQ,EAAEL,WAAW,CAACK;MACxB,CAAC;MAEDR,OAAO,CAACS,GAAG,CAAC,yBAAyB,EAAE;QAAEJ,KAAK,EAAED,oBAAoB,CAACC;MAAM,CAAC,CAAC;MAE7E,MAAMjB,QAAQ,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,cAAc,EAAEe,oBAAoB,CAAC;MAErE,IAAIhB,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAE;QACvBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC;QAClDC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ,CAACE,IAAI,CAACM,IAAI,CAAC,CAAC;MAClE;MAEA,OAAOR,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOO,KAAK,EAAE;MAAA,IAAAa,gBAAA,EAAAC,gBAAA,EAAAC,gBAAA;MACdZ,OAAO,CAACH,KAAK,CAAC,mBAAmB,EAAE;QACjCgB,MAAM,GAAAH,gBAAA,GAAEb,KAAK,CAACT,QAAQ,cAAAsB,gBAAA,uBAAdA,gBAAA,CAAgBG,MAAM;QAC9BvB,IAAI,GAAAqB,gBAAA,GAAEd,KAAK,CAACT,QAAQ,cAAAuB,gBAAA,uBAAdA,gBAAA,CAAgBrB,IAAI;QAC1BW,OAAO,EAAEJ,KAAK,CAACI;MACjB,CAAC,CAAC;MACF,MAAM,EAAAW,gBAAA,GAAAf,KAAK,CAACT,QAAQ,cAAAwB,gBAAA,uBAAdA,gBAAA,CAAgBtB,IAAI,KAAI;QAAEW,OAAO,EAAE;MAAmC,CAAC;IAC/E;EACF,CAAC;EAED;EACAa,OAAO,EAAE,MAAAA,CAAA,KAAY;IACnB,IAAI;MACF,MAAM9B,GAAG,CAACK,IAAI,CAAC,eAAe,CAAC;MAC/BG,YAAY,CAACuB,UAAU,CAAC,OAAO,CAAC;MAChCvB,YAAY,CAACuB,UAAU,CAAC,MAAM,CAAC;IACjC,CAAC,CAAC,OAAOlB,KAAK,EAAE;MAAA,IAAAmB,gBAAA,EAAAC,gBAAA;MACdjB,OAAO,CAACH,KAAK,CAAC,oBAAoB,EAAE,EAAAmB,gBAAA,GAAAnB,KAAK,CAACT,QAAQ,cAAA4B,gBAAA,uBAAdA,gBAAA,CAAgB1B,IAAI,KAAIO,KAAK,CAACI,OAAO,CAAC;MAC1E;MACAT,YAAY,CAACuB,UAAU,CAAC,OAAO,CAAC;MAChCvB,YAAY,CAACuB,UAAU,CAAC,MAAM,CAAC;MAC/B,MAAM,EAAAE,gBAAA,GAAApB,KAAK,CAACT,QAAQ,cAAA6B,gBAAA,uBAAdA,gBAAA,CAAgB3B,IAAI,KAAI;QAAEW,OAAO,EAAE;MAAoC,CAAC;IAChF;EACF,CAAC;EAED;EACAiB,cAAc,EAAE,MAAAA,CAAA,KAAY;IAC1B,IAAI;MACF,MAAM9B,QAAQ,GAAG,MAAMJ,GAAG,CAACmC,GAAG,CAAC,UAAU,CAAC;MAC1C,OAAO/B,QAAQ,CAACE,IAAI;IACtB,CAAC,CAAC,OAAOO,KAAK,EAAE;MAAA,IAAAuB,gBAAA,EAAAC,gBAAA;MACdrB,OAAO,CAACH,KAAK,CAAC,6BAA6B,EAAE,EAAAuB,gBAAA,GAAAvB,KAAK,CAACT,QAAQ,cAAAgC,gBAAA,uBAAdA,gBAAA,CAAgB9B,IAAI,KAAIO,KAAK,CAACI,OAAO,CAAC;MACnF,MAAM,EAAAoB,gBAAA,GAAAxB,KAAK,CAACT,QAAQ,cAAAiC,gBAAA,uBAAdA,gBAAA,CAAgB/B,IAAI,KAAI;QAAEW,OAAO,EAAE;MAA4C,CAAC;IACxF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}